(this.webpackJsonpgimmevenueapp=this.webpackJsonpgimmevenueapp||[]).push([[0],{25:function(e){e.exports=JSON.parse('[{"idNumber":0,"id":"Barcelona","coordinates":[41.386991,2.169987],"current":false},{"idNumber":1,"id":"Lisbon","coordinates":[38.714973,-9.138424],"current":false},{"idNumber":2,"id":"London","coordinates":[51.507129,-0.127656],"current":false}]')},32:function(e){e.exports=JSON.parse('[{"id":"0","name":"Freedonia","type":"Feature","station":"Paral\xb7lel","address":"Carrer de la Lleialtat, 6, 08001 Barcelona","city":"Barcelona","position":[41.3732203,2.1577016],"className":"rock","genre":["Punk","Indie","Rock","Electronic"],"isVisible":true,"counter":0,"isFavorite":false},{"id":"1","name":"Meteoro","type":"Feature","station":"Paral\xb7lel","address":"Passeig de Montju\xefc, 72, 08004 Barcelona","city":"Barcelona","position":[41.371829,2.167423],"className":"rock","genre":["Punk","Post-Punk","Indie","Rock"],"isVisible":true,"counter":0,"isFavorite":false},{"id":"2","name":"Heliog\xe0bal","type":"Feature","station":"Joanic <L3>","address":"Carrer de Ram\xf3n y Cajal, 80, 08012 Barcelona","city":"Barcelona","position":[41.403543,2.1581153],"className":"rock","genre":["Punk","Post-Punk","Indie","Rock"],"isVisible":true,"counter":0,"isFavorite":false},{"id":"3","name":"Hangar","type":"Feature","station":"Poblenou <L3>","address":"Carrer Emilia Coranty, 16, 08018 Barcelona","city":"Barcelona","position":[41.408154,2.200094],"className":"electronic","genre":["DIY","Electronic"],"isVisible":true,"counter":0,"isFavorite":false},{"id":"4","name":"Atzavara Club","type":"Feature","station":"none","address":"Ctra. de Palam\xf3s, 266, 17220 Sant Feliu de Gu\xedxols, Girona","city":"Sant Feliu de Gu\xedxols","position":[41.788568,3.041175],"className":"rock","genre":["DIY","Punk","Post-Punk","Indie"],"isVisible":true,"counter":0,"isFavorite":false}]')},43:function(e,t,a){},58:function(e){e.exports=JSON.parse('[{"id":"0","genre":"Punk","checked":true},{"id":"1","genre":"Post-Punk","checked":true},{"id":"2","genre":"Indie","checked":true},{"id":"3","genre":"Rock","checked":true},{"id":"4","genre":"Electronic","checked":true},{"id":"5","genre":"Hip-Hop","checked":true},{"id":"6","genre":"DIY","checked":true}]')},59:function(e){e.exports=JSON.parse('[{"token":"pk.eyJ1IjoiYW5kcmU0MTMwIiwiYSI6ImNrY25qMjVhZDBicnUycmxobTZwdDRlYzMifQ.4OTMiqEr3gZDmRZJY-ByHA"}]')},63:function(e,t,a){e.exports=a(90)},68:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(53),l=a.n(o),c=(a(68),a(17)),i=a(18),s=a(24),u=a(23),m=a(11),d=a(8),p=(a(42),a(43),a(22)),b=a(5),f=a(10),h=a(7),v=a(6);function g(){var e=Object(h.a)(["\nbackground-color: #488068;\nfont: inherit;\npadding: 0.5rem 2rem;\ncolor: #182F25 !important;\n\n:hover {\n    background-color: #DFF2D8;\n    color: #488068 !important;\n    transition: ease 0.4s;\n}\n"]);return g=function(){return e},e}var E=v.b.button(g()),O=Object(n.createContext)(),y=Object(n.createContext)(),k=function(e){var t=Object(n.useContext)(O),a=t.alert,o=t.showAlert,l=Object(n.useContext)(y),c=l.msg,i=l.authentication,s=l.login;Object(n.useEffect)((function(){i?e.history.push("/"):c&&o(c.msg,"alert-error")}),[c,i,e.history]);var u=Object(n.useState)({email:"",password:""}),d=Object(f.a)(u,2),h=d[0],v=d[1],g=h.email,k=h.password,w=function(e){v(Object(b.a)(Object(b.a)({},h),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-user"},a?r.a.createElement("div",{className:"alert ".concat(a.category)},a.msg):null,r.a.createElement("div",{className:"contenedor-form sombra-dark"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==g.trim()&&""!==k.trim()||o("All fields are mandatory","alert-error"),s({email:g,password:k})}},r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"Your Email",value:g,onChange:w})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Your Password",value:k,onChange:w})),r.a.createElement("div",{className:"campo-form"},r.a.createElement(E,{type:"submit",className:"btn btn-primario btn-block",value:"Login"},"Login"))),r.a.createElement(m.b,{to:"/register",className:"enlace-cuenta"},"Register"),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/",className:"enlace-cuenta"},"Back to Map")))},w=function(e){var t=Object(n.useContext)(O),a=t.alert,o=t.showAlert,l=Object(n.useContext)(y),c=l.msg,i=l.authentication,s=l.registerUser;Object(n.useEffect)((function(){i?e.history.push("/"):c&&(o(c.msg,c.category),console.log(c.msg,c.category))}),[c,i,e.history]);var u=Object(n.useState)({username:"",email:"",password:"",password2:""}),d=Object(f.a)(u,2),h=d[0],v=d[1],g=h.username,E=h.email,k=h.password,w=h.password2,j=function(e){v(Object(b.a)(Object(b.a)({},h),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-user"},a?r.a.createElement("div",{className:"alert ".concat(a.category)},a.msg):null,r.a.createElement("div",{className:"contenedor-form sombra-dark"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==g.trim()&&""!==E.trim()&&""!==k.trim()&&""!==w.trim()?k.length<6?o("Password must be at least 6 characters","alert-error"):k===w?s({username:g,email:E,password:k}):o("Password and Password confirmation do not match","alert-error"):o("All fields are mandatory","alert-error")}},r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"Your Username",value:g,onChange:j})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"Your Email",value:E,onChange:j})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Your Password",value:k,onChange:j})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"password2",name:"password2",placeholder:"Repeat your Password",value:w,onChange:j})),r.a.createElement("div",{className:"campo-form"},r.a.createElement("input",{type:"submit",className:"btn btn-primario btn-block",value:"Register"}))),r.a.createElement(m.b,{to:"/login",className:"enlace-cuenta"},"Login"),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/",className:"enlace-cuenta"},"Back to Map")))};function j(){var e=Object(h.a)(["\nwidth: 90%;\nbackground-color: blue;\nheight: 100px;\ncolor: red;\n"]);return j=function(){return e},e}var x=v.b.div(j()),C=a(34),N=a(62),R=a(25);var S=function(e){var t=e.selectedCity,a=e.latitude,o=e.longitude,l=e.onChange,c=e.onClick,i=e.state.checkbox.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("input",{className:"checkbox",value:e.genre,name:"Genre",type:"checkbox",checked:e.checked,onChange:l}),r.a.createElement("label",null,"".concat(e.genre)))}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"filterbox"},r.a.createElement("p",null,"Your selected city is: ".concat(t)),r.a.createElement("p",null,"Your coordinates are:"),r.a.createElement("p",null," ","lat ".concat(a,", long ").concat(o)),r.a.createElement("label",null,"Select Genre:",r.a.createElement("ul",null,i)),r.a.createElement("div",null,r.a.createElement(E,{className:"btn",type:"button",onClick:c,value:"Select All",name:"selectAll"},"Select All"),r.a.createElement(E,{className:"btn",type:"button",onClick:c,value:"Clear All",name:"clearAll"},"Clear All"))))};function A(){var e=Object(h.a)(["\nmargin: 0.3rem;\npadding: 0.1rem;\nborder-radius: 5px;\nbackground-color:none;\nfont-size: 1rem;\n\n:dropdown-content {\n    border-radius: 5px;\n}\n"]);return A=function(){return e},e}var L=v.b.select(A());var V=function(e){e.selectedCity,e.latitude,e.longitude;var t=e.setViewPort,a=e.viewPort,o=e.handleSelectCity,l=R.map((function(e){return r.a.createElement("option",{key:e.idNumber,value:e.id},e.id)}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"checkcity"},r.a.createElement("form",null,r.a.createElement("label",null,"Select your City:",r.a.createElement(L,{onChange:function(e){var n=R.filter((function(t){return t.id===e.target.value}));console.log("in selectCity function",n),console.log("selected",e.target.value),o(n),t(Object(b.a)(Object(b.a)({},a),{},{latitude:n[0].coordinates[0],longitude:n[0].coordinates[1]}))}},l)))))},z=a(58),P=a(32),I=a(61),T=function(e){var t=Object(n.useState)({date:new Date}),a=Object(f.a)(t,2),o=a[0],l=a[1];return console.log(o.date),r.a.createElement("div",null,r.a.createElement(I.a,{className:"calendar",calendarType:"Hebrew",onChange:function(e){return l({date:e})},value:o.date}))};var F=function(e){var t=e.mapboxApiAccessToken,a=e.selectedCity,o=e.latitude,l=e.longitude,c=e.handleSelectCity,i=Object(n.useState)({latitude:41.386991,longitude:2.169987,zoom:13,width:"100vw",height:"95vh"}),s=Object(f.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({checkbox:z}),p=Object(f.a)(d,2),h=p[0],v=p[1],g=Object(n.useState)({stateVenues:P}),E=Object(f.a)(g,2),O=E[0],y=E[1];Object(n.useEffect)((function(){y(O)}),[O,h]);var k=Object(n.useState)(null),w=Object(f.a)(k,2),j=w[0],x=w[1];Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&x(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);var R=Object(n.useRef)(),A=P.map((function(e){return{type:"Feature",id:e.id,properties:{cluster:!1,venueID:e.id,category:e.className},geometry:{type:"Point",coordinates:[e.position[0],e.position[1]]}}})),L=R.current?R.current.getMap().getBounds().toArray().flat():null,I=(Object(N.a)({points:A,zoom:u.zoom,bounds:L,options:{radius:75,maxZoom:20,minZoom:0}}).clusters,O.stateVenues.map((function(e){return r.a.createElement(C.a,{key:e.id,latitude:e.position[0],longitude:e.position[1]},r.a.createElement("div",{className:e.isVisible?"show":"hide"},e.name,r.a.createElement("br",null),r.a.createElement("div",{className:e.className,onClick:function(t){t.preventDefault(),x(e)}})))})));return r.a.createElement("div",null,r.a.createElement(C.c,Object.assign({},u,{mapboxApiAccessToken:t.token[0].token,mapStyle:"mapbox://styles/andre4130/ckcnjsgto2nrb1inpf706l90s",onViewportChange:function(e){m(e)},onClick:function(){return x(null)},ref:R}),I,j?r.a.createElement(C.b,{className:"popup",latitude:j.position[0],longitude:j.position[1]},r.a.createElement("h2",null,j.name),r.a.createElement("div",null,r.a.createElement("h5",null,"Address"),r.a.createElement("p",null,j.address)),r.a.createElement("div",null,r.a.createElement("h5",null,"Genres"),r.a.createElement("ul",{className:"list-group list-group-horizontal"},j.genre.map((function(e){return r.a.createElement("li",{className:"list-group-item"},e)})))),r.a.createElement("div",null,r.a.createElement("h5",null,"Agenda"),r.a.createElement(T,null)),r.a.createElement("div",{className:"venue-favorite"},r.a.createElement("label",null,"Mark as Favourite"),r.a.createElement("input",{className:"checkbox",name:"Genre",type:"checkbox",onChange:function(e){y({stateVenues:Object(b.a)(Object(b.a)({},P),{},{isFavorite:!0})})}}))):null,r.a.createElement(S,{selectedCity:a,latitude:o,longitude:l,onChange:function(e){return function(e){v({checkbox:h.checkbox.map((function(t){return e.target.value!==t.genre?t:Object(b.a)(Object(b.a)({},t),{},{checked:!t.checked})}))}),y({stateVenues:O.stateVenues.map((function(e){for(var t=e.genre.length,a=0;a<h.checkbox.length;a++)!1===h.checkbox[a].checked&&e.genre.includes(h.checkbox[a].genre)&&(t-=1);return 0===t?(console.log("counter = 0",e),Object(b.a)(Object(b.a)({},e),{},{isVisible:!1})):(console.log("counter no 0",t),Object(b.a)(Object(b.a)({},e),{},{isVisible:!0}))}))})}(e)},onClick:function(e){return function(e){"Select All"===e.target.value?v({checkbox:h.checkbox.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{checked:!0})}))}):v({checkbox:h.checkbox.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{checked:!1})}))}),"Select All"===e.target.value?y({stateVenues:O.stateVenues.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{isVisible:!0})}))}):y({stateVenues:O.stateVenues.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{isVisible:!1,counter:0})}))})}(e)},state:h,viewport:u}),r.a.createElement(V,{selectedCity:a,latitude:o,longitude:l,setViewPort:m,viewPort:u,handleSelectCity:c})))},_=function(e){return r.a.createElement("footer",null,"Gimme Venue! follow us on Twitter, Instagram and Facebook \xa9 ",e.year)};function H(){var e=Object(h.a)(["\n  color: #1f2228;\n  display: flex;\n  align-items: center;\n  flex-shrink: 0\n  font-size: 14px;\n  font-weight: 400;\n  padding: 15px 30px;\n  text-decoration: none;\n\n  &:hover {\n    background-color: #f2f2f2;\n  }\n\n  > svg {\n    margin-right: 20px;\n  }\n"]);return H=function(){return e},e}var M=v.b.a(H());function B(){var e=Object(h.a)(["\n  background-color: #47C8FF;\n  border-radius: 3px;\n  color: white;\n  display: block;\n  font-size: 14px;\n  font-weight: 400;\n  margin: 15px 0;\n  padding: 15px 30px;\n  text-decoration: none;\n  text-align: center;\n"]);return B=function(){return e},e}var D=v.b.a(B());function G(){var e=Object(h.a)(["\n  border-bottom: 1px solid #f2f2f2;\n  padding: 15px 30px;\n\n  &:last-of-type {\n    border-bottom: 0;\n    border-top: 1px solid #f2f2f2;\n    margin-top: auto\n  }\n"]);return G=function(){return e},e}var U=v.b.div(G());function Y(){var e=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 10;\n  pointer-events: ",";\n"]);return Y=function(){return e},e}var J=v.b.div(Y(),(function(e){return e.visible?"auto":"none"}));function Z(){var e=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.4);\n  will-change: opacity;\n  opacity: ",";\n  transition: opacity 0.3s cubic-bezier(0, 0, 0.3, 1);\n"]);return Z=function(){return e},e}var W=v.b.div(Z(),(function(e){return e.visible?"1":"0"}));function X(){var e=Object(h.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 40%;\n  min-width: 264px;\n  max-width: 340px;\n  background-color: #ffffff;\n  box-shadow: 3px 0 16px rgba(0, 0, 0, 0.4);\n  will-change: transform;\n  transform: translateX(",");\n  transition: transform 0.13s cubic-bezier(0, 0, 0.3, 1);\n\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n\n  display: flex;\n  flex-direction: column;\n"]);return X=function(){return e},e}var q=v.b.div(X(),(function(e){return e.visible?"0":"110%"})),K=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggleVisibility=function(e){n.props.onRequestChange(e),n.setState({visible:e})},n.state={visible:"undefined"!==typeof e.visible&&e.visible},n}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.state.visible!==e.visible&&this.toggleVisibility(e.visible)}},{key:"render",value:function(){var e=this;return r.a.createElement(J,{visible:this.state.visible,innerRef:function(t){e.wrapper=t}},r.a.createElement(W,{onClick:function(){return e.toggleVisibility(!1)},visible:this.state.visible}),r.a.createElement(q,{visible:this.state.visible},this.props.children))}}]),a}(n.Component),Q={small:376,medium:768,large:992};function $(){var e=Object(h.a)(["\n    @media (min-width: ","em) {\n      ","\n    }\n  "]);return $=function(){return e},e}var ee=Object.keys(Q).reduce((function(e,t){var a=Q[t]/16;return e[t]=function(){return Object(v.a)($(),a,v.a.apply(void 0,arguments))},e}),{});function te(){var e=Object(h.a)(["\n      top: 30px;\n      right: 30px;\n    "]);return te=function(){return e},e}function ae(){var e=Object(h.a)(["\n    border-radius: 28px;\n    box-shadow: 0 4px 11px rgba(0, 0, 0, .3);\n    background-color: #488068;\n    color: white;\n    cursor: pointer;\n    width: 56px;\n    height: 56px;\n    will-change: transform;\n    transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    ","\n\n    &:hover {\n      transform: scale(1.15);\n      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.25);\n    }\n"]);return ae=function(){return e},e}var ne=v.b.div(ae(),ee.large(te())),re={arrowBack:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",menu:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z",info:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",code:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z",assessment:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z",business:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z",search:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",globe:'M120.255 177.219l20.007 2.541a12.935 12.935,0,0,0,12.924-6.12,36.577,36.577,0,0,1,36.295-17.918l8.748,1.118a12.8,12.8,0,0,0,11.7-4.86l7.709-10a21.056,21.056,0,0,0,.629-24.942L201.646,93.066a72.352,72.352,0,0,0-22.764-21.078,81.941,81.941,0,0,1-7.812-5.195l-29.258-22a240.963,240.963,0,0,0-55.518,41.5A238.18,238.18,0,0,0,17.642,227.805a43.825,43.825,0,0,1,46,21.033,34.453,34.453,0,0,0,6.147,7.725l17.417,16.394a21.172,21.172,0,0,0,8.912,4.991l2.033.556a40.466,40.466,0,0,1,28.224,28.106l9.338,33.69a27.819,27.819,0,0,0,4.71,9.484l28.294,37.1a40.887,40.887,0,0,1,7.793,18.011l7.69,46.139a1.847,1.847,0,0,0,.559,1.128,1.531,1.531,0,0,0,1.6.241,8.005,8.005,0,0,0,4.889-6.672,51.613,51.613,0,0,1,11.959-28.339l8.2-9.859a12.129,12.129,0,0,0,2.275-4.2L222.1,376a45.482,45.482,0,0,1,15.853-22.8l25.058-19.242a3.97,3.97,0,0,0,1.573-2.417,3.491,3.491,0,0,0-.8-2.894L247.1,309.019c-1.08-1.27-2.121-2.6-3.1-3.961l-12.752-17.775c-6.456-9-16.269-14.205-26.25-13.956a11.374,11.374,0,0,1-6.16-1.62l-26.066-15.64a20.341,20.341,0,0,0-19.975-.485l-13.733,7.357a32.108,32.108,0,0,1-42.129-11.081L83.6,230.8a34,34,0,0,1,.576-37.267A37.631,37.631,0,0,1,120.255,177.219Z"/><path d="M477.336,328.807a36.134,36.134,0,0,0-31.689,21.677l-1.518,3.339A37.271,37.271,0,0,1,409.805,376H384.539a16.424,16.424,0,0,1-16.6-14.833l-.955-9.86A35.884,35.884,0,0,0,350.7,324.492a19.207,19.207,0,0,1-8.7-16.371V298a24.619,24.619,0,0,1,8.166-18.594l42.939-38.125a37.526,37.526,0,0,0,11.045-38.911,38.351,38.351,0,0,0-31.994-26.919l-4.357-.537a26.279,26.279,0,0,1-16.586-8.788,16.986,16.986,0,0,1-2.041-19.587l9.067-15.5A315.411,315.411,0,0,1,397.967,77.2l6.83-9.531A240.488,240.488,0,0,0,151.709,39.723L177.075,58.8a72.119,72.119,0,0,0,6.857,4.56,82.421,82.421,0,0,1,25.931,24.011l16.622,23.97a31.022,31.022,0,0,1-.927,36.745l-7.709,10a22.827,22.827,0,0,1-20.885,8.674l-8.748-1.119a26.582,26.582,0,0,0-26.386,13.027A22.9,22.9,0,0,1,139,189.68l-20.01-2.541a27.673,27.673,0,0,0-26.54,12,24,24,0,0,0-.407,26.308l13.341,21.064a22.071,22.071,0,0,0,28.957,7.617l13.733-7.358a30.388,30.388,0,0,1,29.842.725l26.066,15.639a1.315,1.315,0,0,0,.755.2c13.29-.35,26.246,6.427,34.637,18.124l12.751,17.775c.816,1.136,1.687,2.251,2.59,3.313L271.4,322.17a13.573,13.573,0,0,1,3.056,10.949,13.85,13.85,0,0,1-5.357,8.769L244.042,361.13a35.543,35.543,0,0,0-12.386,17.818l-8.423,27.326a22.073,22.073,0,0,1-4.141,7.648l-8.2,9.86a41.653,41.653,0,0,0-9.689,22.852,17.986,17.986,0,0,1-10.979,14.987,11.5,11.5,0,0,1-4.453.9,11.535,11.535,0,0,1-11.437-9.844l-7.69-46.138a30.867,30.867,0,0,0-5.88-13.59l-28.294-37.1a37.794,37.794,0,0,1-6.4-12.878l-9.338-33.69a30.42,30.42,0,0,0-21.219-21.13l-2.033-.555a31.22,31.22,0,0,1-13.134-7.357L62.935,263.846a44.5,44.5,0,0,1-7.929-9.966,33.825,33.825,0,0,0-35.693-16.218l-2.665.526Q16,247.035,16,256A240,240,0,0,0,425.706,425.706,238.913,238.913,0,0,0,484.9,328.464c-.543.049-1.085.078-1.62.1Z"/><path d="M412.528,74.049l-6.609,9.223a4.928,4.928,0,0,1-.382.47,305.417,305.417,0,0,0-38.665,52.346l-9.038,15.455a7.059,7.059,0,0,0,.911,8,16.31,16.31,0,0,0,10.291,5.449l4.369.537a48.394,48.394,0,0,1,40.37,33.943,47.527,47.527,0,0,1-13.94,49.307L356.787,286.9A14.615,14.615,0,0,0,352,298v10.119a9.144,9.144,0,0,0,4.123,7.908,45.6,45.6,0,0,1,20.7,34.164l1.01,9.98a6.51,6.51,0,0,0,6.7,5.827h25.266a27.272,27.272,0,0,0,25.168-16.2l1.518-3.219a46.132,46.132,0,0,1,40.392-27.707l5.938-.27c.474-.022.959-.057,1.443-.105l3.642-.366A241.342,241.342,0,0,0,496,256,238.432,238.432,0,0,0,425.706,86.294Q419.31,79.9,412.528,74.049Z'},oe=function(e){var t=e.name,a=e.fill;return r.a.createElement("svg",{fill:a,height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:re[t]}))};oe.defaultProps={fill:"currentColor"};var le=oe,ce=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleToggle=function(){return n.setState({open:!n.state.open})},n.state={open:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ne,{onClick:this.handleToggle},r.a.createElement(le,{name:"menu"})),r.a.createElement(K,{visible:this.state.open,onRequestChange:function(t){return e.setState({open:t})}},r.a.createElement(U,null,r.a.createElement("h3",null,"Gimme Venue App"),r.a.createElement("p",null,"Gimme Venue is an App that will help you browse through different music venues in different cities of the world."),r.a.createElement("p",null,"Either if you're a music lover searching for gigs in a specific city, or if you're a band and you want to get in contact with a specific venue in order to play, you will find it here.")),r.a.createElement(M,null,r.a.createElement(le,{name:"arrowBack",fill:"#104986"}),r.a.createElement(m.b,{to:"/login"},"Login")),r.a.createElement(M,null,r.a.createElement(le,{name:"assessment",fill:"#104986"}),r.a.createElement(m.b,{to:"/register"},"Sign In")),r.a.createElement(M,{href:"https://www.honeypot.io",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(le,{name:"info",fill:"#104986"})," About"),r.a.createElement(U,null,r.a.createElement(D,{href:"https://www.honeypot.io/lp/join?utm_source=techmap",target:"_blank",rel:"noopener noreferrer"},"Join Honeypot"),r.a.createElement("small",null,"Honeypot is Europe\u2019s developer-focused job platform. We are on a mission to get every developer a great job. To create the London Tech Map, we looked at over 12,000 developer job postings and the tech stacks of over 800 London companies."))))}}]),a}(n.Component),ie=function(){var e=Object(n.useContext)(y),t=e.user,a=e.authUser,o=e.logout;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",null,r.a.createElement("header",{className:"app-header"},t?r.a.createElement("p",{className:"nombre-usuario"},"Hello ",r.a.createElement("span",null,t.username)):r.a.createElement("p",{className:"nombre-usuario"},"Hello ",r.a.createElement("span",null,"you!")),r.a.createElement("nav",{className:"nav-principal"},t?r.a.createElement(E,{className:"btn btn-blank",onClick:function(){return o()}},"Logout"):r.a.createElement(E,{className:"btn btn-blank btn-log"},r.a.createElement(m.b,{to:"/login"},"Login")),r.a.createElement("p",null),t?null:r.a.createElement(E,{className:"btn btn-blank btn-log"},r.a.createElement(m.b,{to:"/register"},"Register"))),r.a.createElement(ce,null)))},se=a(59);var ue=function(e){e.city;var t=Object(n.useContext)(y).authUser;Object(n.useEffect)((function(){t()}),[]);var a=Object(n.useState)({selectedCity:"Barcelona",latitude:41.386991,longitude:2.169987}),o=Object(f.a)(a,2),l=o[0],c=o[1],i=Object(n.useState)({token:se}),s=Object(f.a)(i,2),u=s[0],m=(s[1],(new Date).getFullYear());return r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement(F,{mapboxApiAccessToken:u,selectedCity:l.selectedCity,latitude:l.latitude,longitude:l.longitude,handleSelectCity:function(e){c({selectedCity:e[0].id,latitude:e[0].coordinates[0],longitude:e[0].coordinates[1]})}}),r.a.createElement(x,null,r.a.createElement("p",null,"something in here")),r.a.createElement(_,{year:m}))},me=function(e,t){switch(t.type){case"MOSTRAR_ALERTA":return{alert:t.payload};case"OCULTAR_ALERTA":return{alert:null};default:return e}},de=function(e){var t=Object(n.useReducer)(me,{alert:null}),a=Object(f.a)(t,2),o=a[0],l=a[1];return r.a.createElement(O.Provider,{value:{alert:o.alert,showAlert:function(e,t){l({type:"MOSTRAR_ALERTA",payload:{msg:e,category:t}}),setTimeout((function(){l({type:"OCULTAR_ALERTA"})}),5e3)}}},e.children)},pe=a(21),be=a.n(pe),fe=a(33),he=function(e,t){switch(t.type){case"REGISTRO_EXITOSO":case"LOGIN_EXITOSO":return localStorage.setItem("token",t.payload.token),Object(b.a)(Object(b.a)({},e),{},{authentication:!0,msg:null});case"CERRAR_SESION":case"LOGIN_ERROR":case"REGISTRO_ERROR":return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{token:null,user:null,authentication:null,msg:t.payload});case"OBTENER_USUARIO":return Object(b.a)(Object(b.a)({},e),{},{authentication:!0,user:t.payload});default:return e}},ve=a(60),ge=a.n(ve).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/gimmevenue",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BACKEND_URL}),Ee=function(e){e?ge.defaults.headers.common["x-auth-token"]=e:delete ge.defaults.headers.common["x-auth-token"]},Oe=function(e){var t={token:localStorage.getItem("token"),authentication:null,user:null,msg:null},a=Object(n.useReducer)(he,t),o=Object(f.a)(a,2),l=o[0],c=o[1],i=function(){var e=Object(fe.a)(be.a.mark((function e(t){var a,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.post("/api/users",t);case 3:a=e.sent,c({type:"REGISTRO_EXITOSO",payload:a.data}),s(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n={msg:e.t0.response.data.msg,category:"alerta-error"},c({type:"REGISTRO_ERROR",payload:n});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(fe.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("token"))&&Ee(t),e.prev=2,e.next=5,ge.get("/api/auth");case 5:a=e.sent,console.log(a),c({type:"OBTENER_USUARIO",payload:a.data.user}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response),c({type:"LOGIN_ERROR"});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(fe.a)(be.a.mark((function e(t){var a,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.post("/api/auth",t);case 3:a=e.sent,c({type:"LOGIN_EXITOSO",payload:a.data}),s(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.msg),n={msg:e.t0.response.data.msg,category:"alerta-error"},c({type:"LOGIN_ERROR",payload:n});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(y.Provider,{value:{token:l.token,authentication:l.authentication,user:l.user,msg:l.msg,registerUser:i,login:u,authUser:s,logout:function(){c({type:"CERRAR_SESION"})}}},e.children)},ye=localStorage.getItem("token");ye&&Ee(ye);var ke=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(de,null,r.a.createElement(Oe,null,r.a.createElement(m.a,{basename:"/gimmevenue"},r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:ue}),r.a.createElement(d.a,{exact:!0,path:"/login",component:k}),r.a.createElement(d.a,{exact:!0,path:"/register",component:w}))))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.fb7abcea.chunk.js.map